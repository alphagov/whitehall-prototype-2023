{% set idPrefix = params.idPrefix %}
<div class="nhsuk-form-group">

  <fieldset class="nhsuk-fieldset" aria-describedby="{{idPrefix}}-hint">
<!--
    <legend class="nhsuk-fieldset__legend nhsuk-fieldset__legend--s">
      <h4 class="nhsuk-fieldset__heading">
        {{params.category}}
      </h4>
    </legend>

    <div class="nhsuk-hint" id="{{idPrefix}}-hint">
      {{params.description}}
    </div>
-->

    {% for capability in params.capabilities %}
    {% set id = loop.index %}

    <hr style="margin: 0.5em; margin-bottom: 1.5em;" />

    <div class="bc-compare-capability">
    {% set randCap = range(0, 2) | random %}
    <!-- capability.tick -->
    {% if randCap == 0 %}
      <svg class="nhsuk-icon nhsuk-icon__tick" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path stroke-width="4" stroke-linecap="round" d="M18.4 7.8l-8.5 8.4L5.6 12"></path></svg>
    {% else %}
      <svg class="nhsuk-icon nhsuk-icon__cross" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true"><path d="M17 18.5c-.4 0-.8-.1-1.1-.4l-10-10c-.6-.6-.6-1.6 0-2.1.6-.6 1.5-.6 2.1 0l10 10c.6.6.6 1.5 0 2.1-.3.3-.6.4-1 .4z"></path><path d="M7 18.5c-.4 0-.8-.1-1.1-.4-.6-.6-.6-1.5 0-2.1l10-10c.6-.6 1.5-.6 2.1 0 .6.6.6 1.5 0 2.1l-10 10c-.3.3-.6.4-1 .4z"></path></svg>
    {% endif %}
      <span>
        {{capability.text}}
      </span>
    </div>

<!-- style="display: none;" -->
    <div class="bc-compare-epics" id="conditional-{{idPrefix}}-{{id}}">
<!--
      <h5>
        Must epics
      </h5>

      {% for mustEpic in capability.mustEpics %}
      <div class="bc-compare-epic">

        {% if randCap == 0 %}
        <svg class="nhsuk-icon nhsuk-icon__tick" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path stroke-width="4" stroke-linecap="round" d="M18.4 7.8l-8.5 8.4L5.6 12"></path></svg>
        {% else %}
        <svg class="nhsuk-icon nhsuk-icon__cross" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true"><path d="M17 18.5c-.4 0-.8-.1-1.1-.4l-10-10c-.6-.6-.6-1.6 0-2.1.6-.6 1.5-.6 2.1 0l10 10c.6.6.6 1.5 0 2.1-.3.3-.6.4-1 .4z"></path><path d="M7 18.5c-.4 0-.8-.1-1.1-.4-.6-.6-.6-1.5 0-2.1l10-10c.6-.6 1.5-.6 2.1 0 .6.6.6 1.5 0 2.1l-10 10c-.3.3-.6.4-1 .4z"></path></svg>
        {% endif %}
        <span>{{mustEpic.text}}</span>
      </div>
      {% endfor %}

      <h5>
        May epics
      </h5>
-->
      {% for mayEpic in capability.mayEpics %}
      <div class="bc-compare-epic">
        {% set rand = range(0, 2) | random %}
        {% if rand == 0 and randCap == 0 %}
        <svg class="nhsuk-icon nhsuk-icon__tick" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path stroke-width="4" stroke-linecap="round" d="M18.4 7.8l-8.5 8.4L5.6 12"></path></svg>
        {% else %}
        <svg class="nhsuk-icon nhsuk-icon__cross" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true"><path d="M17 18.5c-.4 0-.8-.1-1.1-.4l-10-10c-.6-.6-.6-1.6 0-2.1.6-.6 1.5-.6 2.1 0l10 10c.6.6.6 1.5 0 2.1-.3.3-.6.4-1 .4z"></path><path d="M7 18.5c-.4 0-.8-.1-1.1-.4-.6-.6-.6-1.5 0-2.1l10-10c.6-.6 1.5-.6 2.1 0 .6.6.6 1.5 0 2.1l-10 10c-.3.3-.6.4-1 .4z"></path></svg>
        {% endif %}
        <span>{{mayEpic.text}}</span>
      </div>
      {% endfor %}
    </div>
    {% endfor %}
  </fieldset>

<!--  <hr style="margin: 0.5em;" /> -->

</div>
